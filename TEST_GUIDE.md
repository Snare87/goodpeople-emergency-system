# ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê°€ì´ë“œ

## ğŸ“‹ ì¤€ë¹„ì‚¬í•­
1. Node.js ì„¤ì¹˜ í™•ì¸
2. ì˜ì¡´ì„± ì„¤ì¹˜ ì™„ë£Œ (`npm install`)

## ğŸš€ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë°©ë²•

### Windows (PowerShell/CMD)
```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ
.\run-tests.bat

# ë˜ëŠ” ì§ì ‘ ì‹¤í–‰
cd packages\web-dashboard
npm test -- --watchAll=false
```

### Mac/Linux
```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ
chmod +x run-tests.sh
./run-tests.sh

# ë˜ëŠ” ì§ì ‘ ì‹¤í–‰
cd packages/web-dashboard
npm test -- --watchAll=false
```

## ğŸ¯ í…ŒìŠ¤íŠ¸ ì˜µì…˜

### íŠ¹ì • í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
```bash
# CallService í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
npm test CallService

# íŠ¹ì • describe ë¸”ë¡ë§Œ ì‹¤í–‰
npm test -- -t "ì¬ë‚œ ìˆ˜ë½ ê¸°ëŠ¥"
```

### í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ì¸
```bash
npm test -- --coverage --watchAll=false
```

### Watch ëª¨ë“œë¡œ ì‹¤í–‰ (ê°œë°œ ì¤‘)
```bash
npm test
# íŒŒì¼ ë³€ê²½ ì‹œ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì¬ì‹¤í–‰
```

## ğŸ“Š í˜„ì¬ í…ŒìŠ¤íŠ¸ í˜„í™©

### `callService.test.ts`
- âœ… **ì¬ë‚œ ìˆ˜ë½ ê¸°ëŠ¥ (acceptCall)**
  - ì •ìƒì ìœ¼ë¡œ ì¬ë‚œì„ ìˆ˜ë½í•  ìˆ˜ ìˆì–´ì•¼ í•¨
  - Firebase Functions ì—ëŸ¬ë¥¼ ì ì ˆíˆ ì²˜ë¦¬í•´ì•¼ í•¨
  - í˜¸ì¶œì´ ì·¨ì†Œëœ ì¬ë‚œì€ ìˆ˜ë½í•  ìˆ˜ ì—†ì–´ì•¼ í•¨
  - ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ì‚¬ìš©ìëŠ” ìˆ˜ë½í•  ìˆ˜ ì—†ì–´ì•¼ í•¨
  - ë™ì‹œì— ì—¬ëŸ¬ ëª…ì´ ìˆ˜ë½ ì‹œë„ì‹œ í•œ ëª…ë§Œ ì„±ê³µí•´ì•¼ í•¨

- âœ… **ì¬ë‚œ ì·¨ì†Œ ê¸°ëŠ¥ (cancelCall)**
  - ì •ìƒì ìœ¼ë¡œ ì¬ë‚œ í˜¸ì¶œì„ ì·¨ì†Œí•  ìˆ˜ ìˆì–´ì•¼ í•¨
  - ê¶Œí•œì´ ì—†ëŠ” ì‚¬ìš©ìëŠ” ì·¨ì†Œí•  ìˆ˜ ì—†ì–´ì•¼ í•¨
  - ì´ë¯¸ ìˆ˜ë½ëœ ì¬ë‚œì€ ì·¨ì†Œí•  ìˆ˜ ì—†ì–´ì•¼ í•¨

- âœ… **ì „ì²´ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸**
  - ì¬ë‚œ ë°œìƒë¶€í„° ì™„ë£Œê¹Œì§€ ì „ì²´ í”„ë¡œì„¸ìŠ¤ê°€ ì •ìƒ ë™ì‘í•´ì•¼ í•¨
  - í˜¸ì¶œ ì·¨ì†Œ í”„ë¡œì„¸ìŠ¤ê°€ ì •ìƒ ë™ì‘í•´ì•¼ í•¨

## ğŸ”§ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ
1. **ëª¨í‚¹ í™•ì¸**: Firebase Functionsê°€ ì œëŒ€ë¡œ ëª¨í‚¹ë˜ì—ˆëŠ”ì§€ í™•ì¸
2. **ì˜ì¡´ì„± í™•ì¸**: `node_modules` ì¬ì„¤ì¹˜ (`npm ci`)
3. **ìºì‹œ ì •ë¦¬**: `npm test -- --clearCache`

### íƒ€ì… ì—ëŸ¬ ë°œìƒ ì‹œ
```bash
# TypeScript íƒ€ì… ì²´í¬
npm run type-check
```

## ğŸ“ ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ ì¶”ê°€í•˜ê¸°

```typescript
// ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ í…œí”Œë¦¿
it('ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ ì •ìƒ ë™ì‘í•´ì•¼ í•¨', async () => {
  // Given: í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •
  const mockCallable = jest.fn().mockResolvedValue({
    data: { success: true }
  });
  (httpsCallable as jest.Mock).mockReturnValue(mockCallable);

  // When: ê¸°ëŠ¥ ì‹¤í–‰
  const result = await someFunction();

  // Then: ê²°ê³¼ ê²€ì¦
  expect(mockCallable).toHaveBeenCalled();
  expect(result).toBeDefined();
});
```

## ğŸ’¡ í…ŒìŠ¤íŠ¸ ì‘ì„± íŒ

1. **AAA íŒ¨í„´ ì‚¬ìš©**: Arrange(ì¤€ë¹„), Act(ì‹¤í–‰), Assert(ê²€ì¦)
2. **ì˜ë¯¸ ìˆëŠ” í…ŒìŠ¤íŠ¸ ì´ë¦„**: ë¬´ì—‡ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ”ì§€ ëª…í™•íˆ ì‘ì„±
3. **ì—£ì§€ ì¼€ì´ìŠ¤ ê³ ë ¤**: ì„±ê³µ/ì‹¤íŒ¨ ì¼€ì´ìŠ¤ ëª¨ë‘ í…ŒìŠ¤íŠ¸
4. **ë…ë¦½ì ì¸ í…ŒìŠ¤íŠ¸**: ê° í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šì•„ì•¼ í•¨

---

**Happy Testing! ğŸ‰**
